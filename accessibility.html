<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Accessibility – Naija Culture Guide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg-main: #050814;
        --frame-bg: #111827;
        --panel-bg: #0b1020;
        --text-main: #f9fafb;
        --text-muted: #9ca3af;
        --accent-green: #0aa54b;
        --accent-yellow: #fbbf24;

        --font-scale: 1;
        --radius-lg: 18px;
      }

      * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(
          circle at top,
          #111827 0%,
          #020617 55%,
          #000000 100%
        );
        font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont,
          sans-serif;
        color: var(--text-main);
        font-size: calc(16px * var(--font-scale));
      }

      body.high-contrast {
        background: #000;
        color: #fff;
      }

      body.high-contrast .kiosk-frame {
        background: #000;
        border: 2px solid #fff;
        box-shadow: 0 30px 80px rgba(255, 255, 255, 0.06);
      }

      body.high-contrast .panel {
        background: #000;
        border: 2px solid #fff;
      }

      body.high-contrast .pill,
      body.high-contrast .action-btn,
      body.high-contrast .toggle,
      body.high-contrast .primary-save,
      body.high-contrast .back-home,
      body.high-contrast .toast {
        outline: 2px solid #fff;
        border-color: #fff !important;
      }

      .kiosk-frame {
        width: 100%;
        max-width: 1360px;
        max-height: 800px;
        margin: 16px;
        background: var(--frame-bg);
        border-radius: 32px;
        padding: 40px 56px;
        position: relative;
        overflow: hidden;
        border: 2px solid #000;
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.7);
        display: flex;
        flex-direction: column;
        gap: 18px;
      }

      .utility {
        position: absolute;
        top: 24px;
        right: 32px;
        display: flex;
        justify-content: flex-end;
        align-items: center;
        pointer-events: none;
      }

      .icon-button {
        pointer-events: auto;
        width: 72px;
        height: 72px;
        border-radius: 999px;
        border: none;
        background: #f9fafb;
        color: #020617;
        font-size: 2.1rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 0 0 3px #020617;
        text-decoration: none;
      }

      .icon-button:active {
        transform: scale(0.96);
      }

      .header {
        margin-top: 14px;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .title {
        font-size: 1.35rem;
        font-weight: 700;
        letter-spacing: 0.01em;
      }

      .subtitle {
        color: var(--text-muted);
        max-width: 720px;
        line-height: 1.5;
        font-size: 0.98rem;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 10px 14px;
        border-radius: 999px;
        border: 1px solid rgba(249, 250, 251, 0.1);
        background: rgba(2, 6, 23, 0.55);
        box-shadow: 0 10px 22px rgba(0, 0, 0, 0.45);
        width: fit-content;
        margin-top: 6px;
      }

      .pill-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: var(--accent-yellow);
      }

      .pill span {
        color: var(--text-muted);
        font-size: 0.92rem;
      }

      .content {
        flex: 1;
        display: grid;
        grid-template-columns: 1.1fr 0.9fr;
        gap: 22px;
        align-items: stretch;
      }

      .panel {
        background: var(--panel-bg);
        border: 1px solid rgba(249, 250, 251, 0.08);
        border-radius: 26px;
        padding: 22px 22px 18px;
        box-shadow: 0 18px 50px rgba(0, 0, 0, 0.55);
        min-height: 360px;
      }

      .panel h2 {
        margin: 0;
        font-size: 1.05rem;
        font-weight: 700;
      }

      .panel p {
        margin: 8px 0 0;
        color: var(--text-muted);
        line-height: 1.5;
        font-size: 0.95rem;
      }

      .control-row {
        margin-top: 18px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 14px;
        flex-wrap: wrap;
      }

      .size-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .action-btn {
        min-width: 84px;
        height: 46px;
        padding: 0 14px;
        border-radius: 999px;
        border: 1px solid rgba(249, 250, 251, 0.12);
        background: rgba(17, 24, 39, 0.65);
        color: var(--text-main);
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
      }

      .action-btn:active {
        transform: scale(0.98);
      }

      .action-btn.primary {
        background: rgba(34, 197, 94, 0.18);
        border-color: rgba(34, 197, 94, 0.32);
        color: #d1fae5;
      }

      .percent {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 10px 14px;
        border-radius: 999px;
        background: rgba(2, 6, 23, 0.55);
        border: 1px solid rgba(249, 250, 251, 0.1);
        color: var(--text-muted);
        font-weight: 600;
        font-size: 0.95rem;
      }

      .toggle-wrap {
        margin-top: 18px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }

      .toggle-label {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .toggle-label strong {
        font-size: 1rem;
      }

      .toggle-label span {
        color: var(--text-muted);
        font-size: 0.95rem;
        line-height: 1.4;
        max-width: 520px;
      }

      .toggle {
        width: 84px;
        height: 44px;
        border-radius: 999px;
        border: 1px solid rgba(249, 250, 251, 0.12);
        background: rgba(17, 24, 39, 0.65);
        position: relative;
        cursor: pointer;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        flex: 0 0 auto;
      }

      .toggle::after {
        content: "";
        position: absolute;
        top: 6px;
        left: 6px;
        width: 32px;
        height: 32px;
        border-radius: 999px;
        background: #f9fafb;
        transition: transform 0.18s ease, background 0.18s ease;
      }

      .toggle.on {
        background: rgba(34, 197, 94, 0.22);
        border-color: rgba(34, 197, 94, 0.35);
      }

      .toggle.on::after {
        transform: translateX(40px);
        background: #d1fae5;
      }

      .right-panel {
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      .summary-box {
        margin-top: 14px;
        padding: 14px 16px;
        border-radius: 18px;
        border: 1px solid rgba(249, 250, 251, 0.08);
        background: rgba(2, 6, 23, 0.55);
        color: var(--text-muted);
        line-height: 1.5;
        font-size: 0.95rem;
      }

      .summary-box strong {
        color: var(--text-main);
      }

      .save-row {
        margin-top: auto;
        display: flex;
        align-items: center;
        justify-content: flex-end;
      }

      .primary-save {
        height: 46px;
        min-width: 190px;
        padding: 0 18px;
        border-radius: 999px;
        border: none;
        background: linear-gradient(135deg, var(--accent-green), #16a34a);
        color: #020617;
        font-weight: 800;
        cursor: pointer;
        box-shadow: 0 12px 26px rgba(0, 0, 0, 0.7);
      }

      .primary-save:active {
        transform: scale(0.98);
      }

      .back-home {
        align-self: flex-end;
        margin-top: 6px;
        padding: 12px 18px;
        border-radius: 999px;
        background: rgba(2, 6, 23, 0.55);
        border: 1px solid rgba(249, 250, 251, 0.12);
        color: var(--text-main);
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 10px 22px rgba(0, 0, 0, 0.55);
        font-weight: 700;
      }

      .back-home:active {
        transform: scale(0.98);
      }

      .toast-backdrop {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 16px;
        background: rgba(0, 0, 0, 0.65);
        z-index: 50;
      }

      .toast-backdrop.open {
        display: flex;
      }

      .toast {
        width: 100%;
        max-width: 560px;
        background: #0b1020;
        border: 1px solid rgba(249, 250, 251, 0.12);
        border-radius: 22px;
        padding: 18px 18px 14px;
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.85);
        color: var(--text-main);
      }

      .toast h3 {
        margin: 0;
        font-size: 1.05rem;
        font-weight: 800;
      }

      .toast p {
        margin: 10px 0 0;
        color: var(--text-muted);
        line-height: 1.5;
        font-size: 0.95rem;
      }

      body.high-contrast .toast {
        background: #000;
        border: 2px solid #fff;
      }

      body.high-contrast .toast p {
        color: #fff;
        opacity: 0.9;
      }

      .toast-actions {
        margin-top: 14px;
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        flex-wrap: wrap;
      }

      .toast-btn {
        height: 46px;
        padding: 0 16px;
        border-radius: 999px;
        background: rgba(17, 24, 39, 0.65);
        border: 1px solid rgba(249, 250, 251, 0.12);
        color: var(--text-main);
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
      }

      .toast-btn:active {
        transform: scale(0.98);
      }

      @media (max-width: 1020px) {
        .content {
          grid-template-columns: 1fr;
        }

        .kiosk-frame {
          padding: 34px 26px;
        }
      }
    </style>
  </head>

  <body>
    <div class="kiosk-frame">
      <div class="utility">
        <button
          class="icon-button"
          id="btn-settings"
          aria-label="Accessibility & settings"
          type="button"
        >
          ⚙️
        </button>
      </div>

      <div class="header">
        <div class="title">Accessibility</div>
        <div class="subtitle">
          Adjust text size and contrast to make the kiosk easier to read. Your
          choices can be saved.
        </div>
        <div class="pill">
          <span class="pill-dot"></span>
          <span>Text size • High-contrast mode</span>
        </div>
      </div>

      <div class="content">
        <section class="panel">
          <h2>Text size</h2>
          <p>
            Use the buttons to decrease, reset or increase the overall text
            size.
          </p>

          <div class="control-row">
            <div
              class="size-buttons"
              role="group"
              aria-label="Text size controls"
            >
              <button class="action-btn" id="btnMinus" type="button">A−</button>
              <button class="action-btn primary" id="btnReset" type="button">
                A
              </button>
              <button class="action-btn" id="btnPlus" type="button">A+</button>
            </div>

            <div class="percent" aria-live="polite">
              Current size: <span id="sizePercent">100%</span>
            </div>
          </div>

          <div class="toggle-wrap">
            <div class="toggle-label">
              <strong>High-contrast mode</strong>
              <span>
                Turns on a stronger colour contrast with clearer outlines.
                Helpful in bright rooms or from a distance.
              </span>
            </div>

            <button
              class="toggle"
              id="contrastToggle"
              type="button"
              aria-label="Toggle high contrast"
            ></button>
          </div>
        </section>

        <aside class="panel right-panel">
          <h2>Preview</h2>
          <p>
            This is a quick preview area, so you can confirm choices before
            saving
          </p>

          <div class="summary-box">
            <strong>Current selection</strong><br />
            Text size: <span id="summarySize">100%</span><br />
            High-contrast: <span id="summaryContrast">Off</span>
          </div>

          <div class="save-row">
            <button class="primary-save" id="saveBtn" type="button">
              Save changes
            </button>
          </div>
        </aside>
      </div>

      <a class="back-home" href="index.html">↩ Back to Home</a>
    </div>

    <div class="toast-backdrop" id="toastBackdrop" aria-hidden="true">
      <div
        class="toast"
        role="dialog"
        aria-modal="true"
        aria-label="Saved confirmation"
      >
        <h3>Saved</h3>
        <p id="toastText"></p>
        <div class="toast-actions">
          <button class="toast-btn" id="toastClose" type="button">Close</button>
        </div>
      </div>
    </div>

    <script>
      const SCALE_STEPS = [0.9, 1, 1.1, 1.2];
      const STORAGE_KEY = "kioskAccessibility";

      const sizePercent = document.getElementById("sizePercent");
      const summarySize = document.getElementById("summarySize");
      const summaryContrast = document.getElementById("summaryContrast");

      const btnMinus = document.getElementById("btnMinus");
      const btnReset = document.getElementById("btnReset");
      const btnPlus = document.getElementById("btnPlus");

      const contrastToggle = document.getElementById("contrastToggle");
      const saveBtn = document.getElementById("saveBtn");

      const toastBackdrop = document.getElementById("toastBackdrop");
      const toastText = document.getElementById("toastText");
      const toastClose = document.getElementById("toastClose");

      const saved = (() => {
        try {
          return JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
        } catch {
          return {};
        }
      })();

      let currentScale = typeof saved.scale === "number" ? saved.scale : 1;
      let contrastOn = !!saved.contrast;

      function clampToStep(value) {
        let nearest = SCALE_STEPS[0];
        let best = Math.abs(value - nearest);
        for (const s of SCALE_STEPS) {
          const d = Math.abs(value - s);
          if (d < best) {
            best = d;
            nearest = s;
          }
        }
        return nearest;
      }

      function stepIndex() {
        const normalized = clampToStep(currentScale);
        return Math.max(0, SCALE_STEPS.indexOf(normalized));
      }

      function scaleToPercent(scale) {
        return Math.round(scale * 100);
      }

      function applyUI() {
        document.documentElement.style.setProperty(
          "--font-scale",
          String(currentScale)
        );

        const percent = `${scaleToPercent(currentScale)}%`;
        sizePercent.textContent = percent;
        summarySize.textContent = percent;

        if (contrastOn) {
          document.body.classList.add("high-contrast");
          contrastToggle.classList.add("on");
          contrastToggle.setAttribute("aria-pressed", "true");
          summaryContrast.textContent = "On";
        } else {
          document.body.classList.remove("high-contrast");
          contrastToggle.classList.remove("on");
          contrastToggle.setAttribute("aria-pressed", "false");
          summaryContrast.textContent = "Off";
        }
      }

      btnMinus.addEventListener("click", () => {
        const i = stepIndex();
        currentScale = SCALE_STEPS[Math.max(0, i - 1)];
        applyUI();
      });

      btnPlus.addEventListener("click", () => {
        const i = stepIndex();
        currentScale = SCALE_STEPS[Math.min(SCALE_STEPS.length - 1, i + 1)];
        applyUI();
      });

      btnReset.addEventListener("click", () => {
        currentScale = 1;
        applyUI();
      });

      contrastToggle.addEventListener("click", () => {
        contrastOn = !contrastOn;
        applyUI();
      });

      function openToast(message) {
        toastText.textContent = message;
        toastBackdrop.classList.add("open");
        toastBackdrop.setAttribute("aria-hidden", "false");
      }

      function closeToast() {
        toastBackdrop.classList.remove("open");
        toastBackdrop.setAttribute("aria-hidden", "true");
      }

      toastClose.addEventListener("click", closeToast);
      toastBackdrop.addEventListener("click", (e) => {
        if (e.target === toastBackdrop) closeToast();
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeToast();
      });

      saveBtn.addEventListener("click", () => {
        localStorage.setItem(
          STORAGE_KEY,
          JSON.stringify({ scale: currentScale, contrast: contrastOn })
        );

        const contrastWord = contrastOn ? "on" : "off";
        openToast(
          `Saved. Text size is ${scaleToPercent(
            currentScale
          )}% and high-contrast is ${contrastWord}.`
        );
      });

      document.getElementById("btn-settings").addEventListener("click", () => {
        openToast("You’re already on the accessibility screen.");
      });

      applyUI();
    </script>
  </body>
</html>
